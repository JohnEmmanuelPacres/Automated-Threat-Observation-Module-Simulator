# System Usage Guide

This guide explains how to operate the mmWave Simulator UI and its security features.

## Basic Operation

1.  **Start the System**:
    - Click the green **"CAMERA ON"** button to start the simulation and camera feed.
    - The status bar will change to "Status: CAMERA ON".

2.  **ATM Interaction**:
    - **Insert Card**: Drag the virtual ATM card (bottom right) into the card slot.
    - **Enter PIN**: Use the keypad to enter a 4-digit PIN (any 4 digits work for simulation). Press **ENTER**.
    - **Withdraw Cash**: Enter an amount and press **ENTER**.
    - **Eject Card**: Click the **"EJECT CARD"** button or wait for the transaction to finish.

## Security Features

### 1. Hidden Weapon & Anomaly Detection
*Detects dangerous objects like guns, knives, and hidden density anomalies (concealed weapons).*

- **Activation**: Click the **"Weapon: OFF"** button in the top control panel to toggle it to **"Weapon: ON"** (Red).
- **How it works**:
    - **Visual Recognition**: Uses AI to scan for visible weapons (guns, knives).
    - **Density Anomaly (Waist)**: Analyzes the waist area of the current user for "density anomalies" (simulated hidden objects) using mmWave logic.
- **Triggers**:
    - A visible weapon is detected with high confidence.
    - A density anomaly (red heatmap blob) is detected at the user's waist.
- **System Response**:
    - **Visuals**: Red box around weapons, or a red heatmap blob at the waist.
    - **Alerts**: Screen flashes red, voice alert "Warning. Weapon detected" or "Density anomaly detected".
    - **Action**: ATM locks immediately ("SYSTEM LOCKED"), card ejects, and safety alert appears.

### 2. Skimmer Detection
*Detects illegal card skimming devices attached to the ATM.*

- **Activation**: Click the **"Simulate Skimmer"** button (Purple) to test the response.
- **How it works**: Simulates the detection of a foreign device over the card slot.
- **System Response**:
    - **Visuals**: "SKIMMER DETECTED" warning on screen.
    - **Action**: ATM locks immediately with message "SKIMMER DETECTED - DO NOT USE".
    - **Voice**: "Warning. Card skimmer detected."

### 3. Peeking Detection
*Detects suspicious behavior from others while a user is transacting.*

- **Activation**: Automatically active whenever a **card is inserted** in the ATM.
- **How it works**: The system tracks the body pose of all individuals in view.
- **Triggers**:
    - **Side Peeking**: A person's face is detected peering from the extreme edges of the camera frame.
    - **Shoulder Surfing**: A person stands suspiciously close (behind) the active user.
- **System Response**:
    - A warning appears on the video feed: "WARNING: PEEKING (SIDE)" or "WARNING: PEEKING (BEHIND)".
    - If the behavior persists, the system pauses the transaction and asks: "SOMEONE IS WATCHING YOU? CONTINUE TRANSACTION?".
    - You can choose to **"CONFIRM SAFE"** to continue or **"EMERGENCY ALERT"** to trigger the alarm.

### 4. "Hands Up" Detection
*Detects if a person is being coerced or held up.*

- **Activation**: Always active during simulation.
- **How it works**: The system analyzes body language to detect if a person has their hands raised above their head.
- **Trigger**: Both wrists are detected above the eyes.
- **System Response**:
    - Displays "THREAT: HANDS UP" on the screen.
    - Flashes the screen border red.
    - Triggers a voice alert and the safety confirmation screen.

### 5. High Stress / Coercion Simulation
*Simulates a scenario where the user is under extreme stress (e.g., being held hostage).*

- **Activation**: Click the **"Simulate Coercion"** button (Orange) in the control panel.
- **How it works**: The system simulates a spike in the current user's heart rate (> 120 BPM) using mmWave vital sign monitoring logic.
- **Trigger**: Heart rate exceeds the safety threshold.
- **System Response**:
    - Displays "HIGH STRESS DETECTED" on the video feed.
    - A safety alert overlay appears: "HIGH STRESS DETECTED. ARE YOU UNDER DURESS?".
    - You can confirm safety or trigger the emergency alarm.

### 6. Evidence Collection
*Automatic video recording of security events.*

- **Trigger**: Starts automatically whenever a threat is detected (Weapon, Skimmer, Coercion, etc.).
- **Storage**: Videos are saved to the `recordings/` folder in the application directory.
- **Format**: Timestamped AVI files (e.g., `evidence_YYYYMMDD_HHMMSS.avi`).
- **Features**:
    - **Auto-Recording**: Captures the event while the threat is active.
    - **Night Mode**: Automatically switches to simulated IR (grayscale) if lighting is low.

## View Modes

Use the dropdown menu in the control panel to change how the system visualizes data:
- **Full Debug**: Shows all detection boxes, skeletons, and debug info.
- **Standard Monitoring**: A cleaner view for general surveillance.
- **Privacy Mode**: Blurs faces to protect identity.
- **Security Mode**: High-contrast mode focused on threat detection.
